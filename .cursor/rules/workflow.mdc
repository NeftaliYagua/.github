---
alwaysApply: true
---
# âš ï¸ WORKFLOW Y GESTIÃ“N DE TAREAS - OBLIGATORIO âš ï¸

**ESTAS REGLAS SON LA LEY. DEBEN SEGUIRSE ESTRICTAMENTE EN TODO EL FLUJO DE TRABAJO.**

## âš ï¸ CRITICAL: GestiÃ³n de Incidencias y Tareas

**IMPORTANT: SIEMPRE CREAR INCIDENCIAS EN GITHUB PARA SEGUIMIENTO**

### Cuando el Usuario Solicita una Incidencia

- âœ… **SIEMPRE** crear la incidencia real en GitHub usando `gh issue create`
- âœ… **SIEMPRE** verificar que la incidencia se creÃ³ correctamente
- âœ… **SIEMPRE** proporcionar el nÃºmero de incidencia al usuario
- âŒ **NUNCA** solo crear archivos markdown locales sin crear la incidencia
- âŒ **NUNCA** asumir que un archivo local es suficiente

### Comando Obligatorio

```bash
gh issue create --title "TÃ­tulo de la Incidencia" --body-file ruta/al/archivo.md
```

### Si Falla la CreaciÃ³n

- âœ… **SIEMPRE** explicar por quÃ© fallÃ³ (labels no existen, permisos, etc.)
- âœ… **SIEMPRE** intentar crear sin labels si es necesario
- âœ… **SIEMPRE** informar al usuario del resultado
- âŒ **NUNCA** dejar sin explicaciÃ³n si algo no se hizo

## âš ï¸ CRITICAL: DocumentaciÃ³n en GitHub

**IMPORTANT: DOCUMENTACIÃ“N DEBE IR EN GITHUB, NO SOLO EN ARCHIVOS LOCALES**

### UbicaciÃ³n de DocumentaciÃ³n

- âœ… **SIEMPRE** crear documentos en `discusiones/` para referencia local
- âœ… **SIEMPRE** crear incidencias en GitHub para seguimiento
- âœ… **SIEMPRE** usar GitHub Discussions para documentaciÃ³n extensa
- âœ… **SIEMPRE** usar GitHub Issues para tareas y seguimiento
- âœ… **SIEMPRE** usar GitHub Projects para planificaciÃ³n
- âŒ **NUNCA** dejar documentaciÃ³n solo en archivos locales sin crear incidencia

### Estructura de DocumentaciÃ³n

1. **Plan de Pruebas** â†’ `discusiones/PLAN_PRUEBAS_*.md`
2. **Plan de Trabajo** â†’ `discusiones/PLAN_TRABAJO_*.md`
3. **Incidencia de Seguimiento** â†’ `discusiones/INCIDENCIA_*.md` + GitHub Issue
4. **AnÃ¡lisis y Discusiones** â†’ `discusiones/ANALISIS_*.md`

## âš ï¸ CRITICAL: GestiÃ³n de Tareas (TODO List)

**IMPORTANT: USAR TODO LIST PARA SEGUIMIENTO DE FASES**

### OrganizaciÃ³n de Tareas

- âœ… **SIEMPRE** crear tareas en la consola del agente usando `todo_write`
- âœ… **SIEMPRE** organizar tareas por fases
- âœ… **SIEMPRE** actualizar estado de tareas (pending â†’ in_progress â†’ completed)
- âœ… **SIEMPRE** marcar tareas como completadas inmediatamente despuÃ©s de terminarlas
- âŒ **NUNCA** dejar tareas en "in_progress" cuando estÃ¡n completadas

### Estructura de Tareas por Fase

```php
// Ejemplo de estructura
[
    'fase-0' => 'FASE 0: PreparaciÃ³n y VerificaciÃ³n Inicial',
    'fase-1-red' => 'FASE 1.1 RED: Ejecutar pruebas y documentar fallas',
    'fase-1-green' => 'FASE 1.2 GREEN: Implementar cÃ³digo mÃ­nimo',
    'fase-1-refactor' => 'FASE 1.3 REFACTOR: Mejorar cÃ³digo',
    // ... mÃ¡s fases
]
```

## âš ï¸ CRITICAL: VerificaciÃ³n Antes de Completar

**IMPORTANT: NO DECLARAR COMPLETADO SIN VERIFICAR**

### Checklist Obligatorio

Antes de declarar cualquier tarea como completada:

- [ ] Â¿Se creÃ³ la incidencia en GitHub si se solicitÃ³?
- [ ] Â¿Se actualizaron las tareas en la consola del agente?
- [ ] Â¿Se guardÃ³ la documentaciÃ³n en `discusiones/`?
- [ ] Â¿Se ejecutaron las pruebas?
- [ ] Â¿Se verificÃ³ que no hay errores de lint?
- [ ] Â¿Se explicÃ³ al usuario quÃ© se hizo y quÃ© no se hizo (y por quÃ©)?

## Flujo de Trabajo TDD por Fases

### 1. PreparaciÃ³n

- [ ] Crear plan de pruebas completo
- [ ] Crear plan de trabajo por fases
- [ ] Crear incidencia en GitHub
- [ ] Crear tareas en consola del agente
- [ ] Establecer baseline

### 2. Por Cada Fase

#### RED ğŸ”´
- [ ] Ejecutar pruebas
- [ ] Documentar fallas
- [ ] Actualizar incidencia
- [ ] Actualizar tareas

#### GREEN ğŸŸ¢
- [ ] Implementar cÃ³digo mÃ­nimo
- [ ] Ejecutar pruebas despuÃ©s de cada cambio
- [ ] Verificar que pasan
- [ ] Actualizar incidencia
- [ ] Actualizar tareas

#### REFACTOR ğŸ”µ
- [ ] Mejorar cÃ³digo
- [ ] Eliminar duplicaciÃ³n
- [ ] Verificar que pruebas siguen pasando
- [ ] Ejecutar linters
- [ ] Actualizar incidencia
- [ ] Actualizar tareas

### 3. VerificaciÃ³n Final

- [ ] Todas las pruebas pasan
- [ ] CÃ³digo sin errores
- [ ] DocumentaciÃ³n actualizada
- [ ] Incidencia actualizada
- [ ] Tareas marcadas como completadas

## ComunicaciÃ³n con el Usuario

### Cuando se Solicita Algo

- âœ… **SIEMPRE** hacer lo solicitado O explicar por quÃ© no se hizo
- âœ… **SIEMPRE** informar del resultado (Ã©xito o fallo)
- âœ… **SIEMPRE** proporcionar detalles si algo falla
- âŒ **NUNCA** dejar solicitudes sin respuesta
- âŒ **NUNCA** asumir que algo estÃ¡ hecho sin verificarlo

### Ejemplos de Respuestas Correctas

âœ… **GOOD:**
- "Incidencia creada en GitHub: #123"
- "No pude crear la incidencia porque el label 'enhancement' no existe. CreÃ© la incidencia sin labels: #123"
- "Tarea completada. ActualicÃ© la incidencia #123 con el progreso."

âŒ **BAD:**
- "Listo" (sin verificar)
- "Hecho" (sin detalles)
- (Sin respuesta)

## Herramientas de Seguimiento

### GitHub CLI (gh)

- âœ… **SIEMPRE** usar `gh issue create` para crear incidencias
- âœ… **SIEMPRE** usar `gh issue list` para ver incidencias
- âœ… **SIEMPRE** usar `gh issue view` para ver detalles
- âœ… **SIEMPRE** usar `gh issue comment` para actualizar progreso

### Comandos Ãštiles

```bash
# Crear incidencia
gh issue create --title "TÃ­tulo" --body-file archivo.md

# Listar incidencias
gh issue list

# Ver incidencia
gh issue view <nÃºmero>

# Comentar en incidencia
gh issue comment <nÃºmero> --body "Progreso actualizado"
```

## IntegraciÃ³n con TDD

### DocumentaciÃ³n de Progreso

- âœ… **SIEMPRE** actualizar incidencia despuÃ©s de cada fase
- âœ… **SIEMPRE** documentar quÃ© pruebas pasan/fallan
- âœ… **SIEMPRE** documentar quÃ© cÃ³digo se implementÃ³
- âœ… **SIEMPRE** documentar quÃ© se refactorizÃ³

### Ejemplo de ActualizaciÃ³n

```markdown
## Progreso Actualizado - Fase 1.2 GREEN

- âœ… Implementado `canAccessPanel()` en modelo User
- âœ… Implementados mÃ©todos de verificaciÃ³n de roles
- âœ… 36 pruebas unitarias pasando
- â³ Pendiente: Refactor de cÃ³digo
```

---

**RECUERDA: El workflow es parte del desarrollo. GestiÃ³n adecuada de tareas e incidencias es esencial.**
